---
import sliderData from "../data/slider.json";
---

<div class="px-4 sm:px-6 lg:px-8 py-10 bg-gradient-to-r from-[#efdcf4] -50% via-[#fafafa] 50% to-[#efdcf4] 150%">
  <div
    data-hs-carousel='{
      "loadingClasses": "opacity-0",
      "isInfiniteLoop": true
    }'
    class="relative"
  >
    <div
      class="hs-carousel relative overflow-hidden w-full h-100 md:h-[calc(100vh-106px)] bg-gray-100 rounded-2xl"
    >
      <div
        class="hs-carousel-body absolute top-0 bottom-0 start-0 flex flex-nowrap transition-transform duration-700"
      >
        {sliderData.map((slide, index) => (
          <div class="hs-carousel-slide w-full">
            <div class="h-100 md:h-[calc(100vh-106px)] flex flex-col relative overflow-hidden rounded-2xl">
              <picture class="absolute inset-0 w-full h-full">
                <source
                  media="(max-width: 768px)"
                  srcset={`${slide.mobileWebp} 400w, ${slide.mobileWebp2x} 800w`}
                  type="image/webp"
                  sizes="100vw"
                />
                <source
                  media="(max-width: 768px)"
                  srcset={`${slide.mobileJpeg} 400w, ${slide.mobileJpeg2x} 800w`}
                  sizes="100vw"
                />
                <source
                  media="(min-width: 769px)"
                  srcset={`${slide.desktopWebp} 1200w, ${slide.desktopWebp2x} 2400w`}
                  type="image/webp"
                  sizes="100vw"
                />
                <source
                  media="(min-width: 769px)"
                  srcset={`${slide.desktopJpeg} 1200w, ${slide.desktopJpeg2x} 2400w`}
                  sizes="100vw"
                />
                <img
                  src={slide.src}
                  alt={slide.alt}
                  class="w-full h-full object-cover object-center"
                  width={slide.width}
                  height={slide.height}
                  decoding="async"
                  loading={slide.loading}
                  fetchpriority={slide.fetchpriority}
                />
              </picture>
              <div class="absolute inset-0 bg-black/30 will-change-transform"></div>
              <div class="relative z-10 mt-auto w-2/3 md:max-w-lg ps-5 pb-5 md:ps-10 md:pb-10 will-change-transform">
                <span class="block text-white font-medium mb-2 text-2xl">
                  {slide.category}
                </span>
                <span class="block text-white text-xl md:text-5xl font-bold">
                  {slide.title}
                </span>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>

    <button type="button"
      class="hs-carousel-prev hs-carousel-disabled:opacity-50 disabled:pointer-events-none absolute inset-y-0 start-0 inline-flex justify-center items-center w-12 h-full text-white hover:bg-black/20 rounded-s-2xl focus:outline-hidden focus:bg-black/20 transition-colors duration-200 will-change-transform"
      aria-label="Imagen anterior">
      <svg class="shrink-0 size-4 md:size-5" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
        <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"></path>
      </svg>
    </button>
    <button type="button"
      class="hs-carousel-next hs-carousel-disabled:opacity-50 disabled:pointer-events-none absolute inset-y-0 end-0 inline-flex justify-center items-center w-12 h-full text-white hover:bg-black/20 rounded-e-2xl focus:outline-hidden focus:bg-black/20 transition-colors duration-200 will-change-transform"
      aria-label="Siguiente imagen">
      <svg class="shrink-0 size-4 md:size-5" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
        <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"></path>
      </svg>
    </button>
    </div>
</div>